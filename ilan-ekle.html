<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>İlan Ekle</title>
<style>
body { font-family: Arial; background: #f5f5f5; padding: 20px; }
h1 { color: #333; }
input, textarea, button { width: 100%; padding: 10px; margin-top: 10px; font-size: 16px; }
button { background: #333; color: white; border: none; cursor: pointer; }
button:hover { background: #555; }
.box { background: white; padding: 20px; border-radius: 8px; max-width: 500px; margin: auto; }
</style>
</head>
<body>

<div class="box">
<h1>İlan Ekle</h1>
<p>Facebook ilan linkini buraya yapıştırın:</p>
<input type="text" id="ilanLink" placeholder="https://www.facebook.com/...">
<button onclick="ilanEkle()">İlanı Kaydet</button>

<p id="sonuc"></p>
</div>

<script>
async function ilanEkle() {
    const link = document.getElementById("ilanLink").value.trim();
    if (!link) {
        document.getElementById("sonuc").innerText = "Lütfen link girin.";
        return;
    }

    // ilanlar.json dosyasını çekiyoruz
    const response = await fetch('ilanlar.json');
    const data = await response.json();

    // Yeni ilanı ekliyoruz
    if (!data.ilanlar) data.ilanlar = [];
    data.ilanlar.push({
        link: link,
        tarih: new Date().toLocaleString("tr-TR")
    });

    // JSON metnini textarea içinde gösteriyoruz
    const yeniJSON = JSON.stringify(data, null, 2);
    document.getElementById("sonuc").innerHTML = `
        <strong>İlan eklendi!</strong><br>
        Aşağıdaki metni kopyalayıp GitHub'daki <code>ilanlar.json</code> dosyasına yapıştırın:<br>
        <textarea style="width:100%; height:200px;">${yeniJSON}</textarea>
    `;
}
</script>

</body>
</html>

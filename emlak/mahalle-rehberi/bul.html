<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Selman Güneş Mahalle Rehberi - Bölgesel analizler ve gayrimenkul fırsatları.">
    <title id="page-title">Mahalle Rehberi - Selman Güneş</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    
    <style>
        :root { --gold: #d4af37; --dark: #020617; --neon: #00f3ff; }
        body { background: var(--dark); color: #e2e8f0; font-family: 'Inter', sans-serif; padding-top: 90px; overflow-x: hidden; line-height: 1.8; }
        
        /* Navigasyon Barı */
        .navbar { background: rgba(2, 6, 23, 0.95); backdrop-filter: blur(15px); border-bottom: 2px solid var(--gold); }
        .nav-link { color: white !important; font-weight: 700; font-size: 0.75rem; text-transform: uppercase; margin: 0 5px; transition: 0.3s; }
        .nav-link:hover { color: var(--gold) !important; transform: translateY(-2px); }
        
        /* Kart Tasarımı */
        .glass-card { background: rgba(255, 255, 255, 0.02); border: 1px solid rgba(212, 175, 55, 0.2); border-radius: 40px; padding: 40px; box-shadow: 0 40px 100px rgba(0,0,0,0.8); margin-bottom: 50px; }
        h1 { color: var(--gold); font-weight: 900; text-align: center; margin-bottom: 20px; font-size: 2.8rem; text-transform: uppercase; }
        
        /* İçerik */
        .content-body h3 { color: var(--neon); margin-top: 30px; font-weight: 800; border-left: 5px solid var(--gold); padding-left: 15px; }
        .content-body p { color: #cbd5e1; font-size: 1.2rem; }
        
        /* Widgetlar */
        .data-widget { background: rgba(15, 23, 42, 0.8); border: 1px solid var(--gold); border-radius: 25px; padding: 25px; text-align: center; transition: 0.3s; height: 100%; }
        #qrcode img { margin: 0 auto; border: 5px solid white; border-radius: 10px; }
        
        /* Harita */
        .map-frame { border-radius: 30px; border: 2px solid var(--gold); width: 100%; height: 500px; margin-top: 40px; }
        
        /* Reklam ve Buton */
        .adsense-placeholder { background: rgba(255,255,255,0.05); border: 2px dashed #444; color: #888; text-align: center; padding: 30px; margin: 20px 0; border-radius: 15px; }
        .cta-btn { background: linear-gradient(90deg, #d4af37, #b8860b); color: black; font-weight: 900; padding: 25px; border-radius: 20px; display: block; text-align: center; text-decoration: none; margin-top: 40px; font-size: 1.4rem; animation: pulse 2s infinite; }
        @keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(212, 175, 55, 0.7); } 70% { box-shadow: 0 0 0 20px rgba(212, 175, 55, 0); } 100% { box-shadow: 0 0 0 0 rgba(212, 175, 55, 0); } }
    </style>
</head>
<body>

    <nav class="navbar navbar-expand-lg fixed-top navbar-dark">
        <div class="container-fluid px-lg-5">
            <a class="navbar-brand fw-bold" href="https://selmangunes.com.tr/">SELMAN <span style="color:var(--gold)">GÜNEŞ</span></a>
            <div class="navbar-nav ms-auto d-none d-lg-flex">
                <a class="nav-link" href="https://selmangunes.com.tr/index.html">Ana Sayfa</a>  
                <a class="nav-link" href="https://selmangunes.com.tr/ilanlar.html">İlanlar</a>
                <a class="nav-link" href="https://selmangunes.com.tr/arayis.html">Talep</a>
                <a class="nav-link" href="https://selmangunes.com.tr/bilgi/anasayfa.html">Blog</a>
                <a class="nav-link" href="https://selmangunes.com.tr/blog/anasayfa.html">Rehber</a>  
                <a class="nav-link" href="https://selmangunes.com.tr/iletisim.html">İletişim</a>
            </div>
        </div>
    </nav>

    <div class="container" data-aos="fade-up">
        <div class="glass-card">
            <h1 id="main-title">Yükleniyor...</h1>
            
            <div class="adsense-placeholder">-- Google Adsense Reklam Alanı --</div>

            <div id="main-content" class="content-body">
                <p class="text-center text-white-50">Mahalle analizi isim bazlı harita ile hazırlanıyor...</p>
            </div>

            <div class="row g-4 mt-5">
                <div class="col-md-4">
                    <div class="data-widget">
                        <i class="fa fa-map-marked-alt fa-3x mb-3 text-danger"></i>
                        <h5 class="fw-bold">Konum Analizi</h5>
                        <p id="location-text" class="text-white-50">--</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="data-widget">
                        <i class="fa fa-chart-line fa-3x mb-3 text-success"></i>
                        <h5 class="fw-bold">Yatırım Değeri</h5>
                        <p class="text-white-50">Yüksek Potansiyel</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="data-widget">
                        <div id="qrcode"></div>
                        <p class="mt-3 small text-white-50">Paylaşmak İçin Tara</p>
                    </div>
                </div>
            </div>

            <iframe id="map-frame" class="map-frame" frameborder="0"></iframe>

            <a href="tel:05355739260" class="cta-btn">SELMAN GÜNEŞ: 0535 573 92 60</a>
            
            <div class="adsense-placeholder">-- Reklam Alanı --</div>
        </div>
    </div>

    <footer class="text-center py-5 text-white-50">
        <p>© 2026 Selman Güneş - Tüm Hakları Saklıdır.</p>
    </footer>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    
    <script>
        AOS.init({ duration: 1000 });

        const urlParams = new URLSearchParams(window.location.search);
        const il = urlParams.get('il');
        const ilce = urlParams.get('ilce');
        const mah = urlParams.get('mah');

        if(il && ilce && mah) {
            let safeIl = il.toLowerCase().replace(/i/g, 'i_').replace(/ı/g, 'i').replace(/ /g, '_');
            
            fetch(`./mahalle-rehberi/data/${safeIl}.json`)
            .then(res => res.json())
            .then(data => {
                const item = data.find(x => x.ilce === ilce && x.mah === mah);
                if(item) {
                    document.getElementById('page-title').innerText = item.mah + " Rehberi";
                    document.getElementById('main-title').innerText = item.mah + " / " + item.ilce;
                    document.getElementById('main-content').innerHTML = item.desc;
                    document.getElementById('location-text').innerText = `${item.ilce} / ${item.il}`;
                    
                    // GOOGLE MAPS İSİMDEN ARAMA
                    const searchQuery = encodeURIComponent(`${item.mah} Mahallesi ${item.ilce} ${item.il}`);
                    document.getElementById('map-frame').src = `https://maps.google.com/maps?q=${searchQuery}&t=&z=14&ie=UTF8&iwloc=&output=embed`;

                    // QR Kod
                    new QRCode(document.getElementById("qrcode"), { text: window.location.href, width: 100, height: 100 });
                }
            })
            .catch(err => {
                document.getElementById('main-content').innerHTML = "<h4 class='text-center text-danger'>Veri yüklenemedi. Klasör yolunu kontrol edin.</h4>";
            });
        }
    </script>
</body>
</html>
